<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Readme · Tethers.jl</title><meta name="title" content="Readme · Tethers.jl"/><meta property="og:title" content="Readme · Tethers.jl"/><meta property="twitter:title" content="Readme · Tethers.jl"/><meta name="description" content="Documentation for Tethers.jl."/><meta property="og:description" content="Documentation for Tethers.jl."/><meta property="twitter:description" content="Documentation for Tethers.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Tethers.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Readme</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Basic-example"><span>Basic example</span></a></li><li><a class="tocitem" href="#Python-version-as-comparison"><span>Python version as comparison</span></a></li><li><a class="tocitem" href="#Overall-comparison"><span>Overall comparison</span></a></li></ul></li><li><a class="tocitem" href="examples/">Examples</a></li><li><a class="tocitem" href="vscode/">VSCode IDE</a></li><li><a class="tocitem" href="python/">Python and Julia</a></li><li><a class="tocitem" href="references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Readme</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Readme</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ufechner7/Tethers.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ufechner7/Tethers.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Tethers.jl"><a class="docs-heading-anchor" href="#Tethers.jl">Tethers.jl</a><a id="Tethers.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Tethers.jl" title="Permalink"></a></h1><p><a href="https://ufechner7.github.io/Tethers.jl/dev"><img src="https://img.shields.io/badge/docs-dev-blue.svg" alt="Dev"/></a>  </p><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>A few examples where tether models can be useful:</p><ul><li>cranes</li><li>undersea cables</li><li>mooring lines of floating wind turbines</li><li>airborne wind energy systems</li><li>launching of sailplanes</li></ul><p>Modeling of tethers and cables is difficult for several reasons. One of them is the high stiffness of the equation systems that need to be solved. I tried to implement these models with Simulink and Modelica and failed. It is possible to implement these models with Julia or Python. How to do this is explained in this tutorial. Tethers that are reeled in and out from a winch are even more challenging to model than constant-length tethers.</p><p>A series of examples, from a simple falling mass towards a tether model, consisting of point masses connected by spring damper elements with the support of reel-out and reel-in and aerodynamic drag attached shall be presented.</p><p>– WORK IN PROGRESS –</p><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><ol><li>make sure you are running a <code>bash</code> terminal (shell) and you have at least 16GB RAM (MAC, Linux and Windows supported).   On Windows, you can use <a href="https://gitforwindows.org/">git for windows</a> which provides git AND a bash shell, but for using Julia from a <code>bash</code> terminal you must also install either  <a href="https://ufechner7.github.io/Tethers.jl/dev/vscode/">Installation and usage of VSCode</a> or <a href="https://learn.microsoft.com/en-us/windows/terminal/install">Windows Terminal</a>. <code>Windows Terminal</code> is the simple and clean solution, <code>VSCode</code> the comfortable, fancy solution.</li><li>install Julia 1.10 using <code>juliaup</code>, see <a href="https://github.com/JuliaLang/juliaup">https://github.com/JuliaLang/juliaup</a>. If <code>juliaup</code> is already installed, the following commands will do:</li></ol><pre><code class="nohighlight hljs">juliaup add 1.10
juliaup default 1.10 </code></pre><p>Check out from git:</p><pre><code class="language-bash hljs">cd repos # any folder of your choice, but without spaces in the folder name
git clone https://github.com/ufechner7/Tethers.jl</code></pre><p>Build the system image:</p><pre><code class="language-bash hljs">cd repos/Tethers.jl
cd bin
./create_sys_image</code></pre><h2 id="Basic-example"><a class="docs-heading-anchor" href="#Basic-example">Basic example</a><a id="Basic-example-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-example" title="Permalink"></a></h2><p>Use the provided script to start Julia from the <code>Tethers.jl</code> folder:</p><pre><code class="language-bash hljs">cd repos/Tethers.jl
./bin/run_julia</code></pre><p>From the Julia prompt, run the simulation:</p><pre><code class="language-julia hljs">include(&quot;src/Tether_01.jl&quot;)</code></pre><p>You should see a plot similar to:</p><p><img src="docs/images/FallingMass.png" alt="Falling mass"/></p><p>This example shows a mass that is thrown upwards, slows down and then falls.</p><p><strong>Julia code:</strong> <a href="https://github.com/ufechner7/Tethers.jl/blob/main/src/Tether_01.jl">Tether_01.jl</a></p><p>These differential equations define the model:</p><pre><code class="language-Julia hljs">D = Differential(t)

eqs = vcat(D.(pos) ~ vel,
           D.(vel) ~ acc,
           acc    .~ G_EARTH)</code></pre><p>The term <code>D.(pos)</code> means &quot;Apply the differential D(t) to all elements of the vector <code>pos</code>&quot;. The second term defines that the differential of the velocity vector must be equal to the  acceleration. For equality in symbolic equations the character <code>~</code> has to be used, because the character <code>=</code> has the meaning &quot;assign a value to a variable&quot; which is not what we are doing here. The third equation means that all elements of the acceleration vector must be equal to the elements of the gravity vector. We end up with an array of <code>3x3</code>` equations.</p><p>The next lines are:</p><pre><code class="language-julia hljs">@named sys = ODESystem(eqs, t)
simple_sys = structural_simplify(sys)</code></pre><p>This means we create a named ordinary equation system, depending on <code>t</code>. Then we simplify the system symbolically (order reduction). If you type <code>sys</code> in the Julia REPL (command line) you can see that the original system had 9 equations, the second line above created a system with only six equations. This step helps to speed up the simulation and often also removes algebraic loops which makes the ODE a lot simpler to solve numerically later on.</p><p>Now the parameters of the integrator are defined:</p><pre><code class="language-julia hljs">duration = 10.0
dt = 0.02
tol = 1e-6
tspan = (0.0, duration)
ts    = 0:dt:duration</code></pre><p>The time step <span>$dt$</span> is the interval in which the solution shall be stored, NOT the time step of the integrator. The integrator uses a variable time step which can be much smaller or much larger as determined by the required tolerance, in this example set to <span>$tol=10^{-6}$</span>. The variable <span>$ts$</span> is a range object defining the sampling times for the result.</p><p>Then we define the initial condition <span>$u0$</span>. We use a dictionary of variable =&gt; value pairs to do this. In the next line, we define the ODE problem and finally, we solve it using the Rodas5 solver with the given parameters.</p><pre><code class="language-julia hljs">u0 = Dict(vel=&gt;[0, 0, 50.0])

prob = ODEProblem(simple_sys, u0, tspan)
@time sol = solve(prob, Rodas5(), dt=dt, abstol=tol, reltol=tol, saveat=ts)</code></pre><p>The macro <code>@time</code> measures the compilation and execution time of calling the function <code>solve()</code>. It is compiled only when called the first time. </p><h2 id="Python-version-as-comparison"><a class="docs-heading-anchor" href="#Python-version-as-comparison">Python version as comparison</a><a id="Python-version-as-comparison-1"></a><a class="docs-heading-anchor-permalink" href="#Python-version-as-comparison" title="Permalink"></a></h2><p>From the Julia prompt execute:</p><pre><code class="nohighlight hljs">include(&quot;src/RunTether.jl&quot;)</code></pre><p>This will install Python, Matplotlib and Assimulo and execute the script <code>Tether_01.py</code>.</p><p><strong>Python code:</strong> <a href="https://github.com/ufechner7/Tethers.jl/blob/main/src/Tether_01.py">Tether_01.py</a></p><p>If you compare the Python and the Julia scripts you can see that:</p><ul><li>the Julia script is shorter and easier to read</li><li>Julia is about 16 times faster when running the simulation</li></ul><p>Have a look at the <a href="https://ufechner7.github.io/Tethers.jl/dev/examples/">Examples</a> that teach you how to construct a full tether model step by step.</p><h2 id="Overall-comparison"><a class="docs-heading-anchor" href="#Overall-comparison">Overall comparison</a><a id="Overall-comparison-1"></a><a class="docs-heading-anchor-permalink" href="#Overall-comparison" title="Permalink"></a></h2><p>Execution time for a simulation of 10s duration with logging the state every 20ms. Relative and absolute tolerance: <span>$1.0^{-6}$</span>. CPU: Ryzen 9 7950X.</p><table><tr><th style="text-align: left">Test-case</th><th style="text-align: center">Lines of code (LOC) Julia</th><th style="text-align: center">LOC Python</th><th style="text-align: center">Time Julia [ms]</th><th style="text-align: center">Time Python [ms]</th></tr><tr><td style="text-align: left">Falling mass</td><td style="text-align: center">42</td><td style="text-align: center">56</td><td style="text-align: center">0.17</td><td style="text-align: center">2.6</td></tr><tr><td style="text-align: left">Non-linear Spring damper</td><td style="text-align: center">61</td><td style="text-align: center">83</td><td style="text-align: center">0.61</td><td style="text-align: center">20</td></tr><tr><td style="text-align: left">dito with callbacks</td><td style="text-align: center">68</td><td style="text-align: center">103</td><td style="text-align: center">0.74</td><td style="text-align: center">31</td></tr><tr><td style="text-align: left">swinging tether, 5 segments</td><td style="text-align: center">122</td><td style="text-align: center">150</td><td style="text-align: center">3.50</td><td style="text-align: center">47</td></tr><tr><td style="text-align: left">Dyneema tether, reeling out</td><td style="text-align: center">136</td><td style="text-align: center"></td><td style="text-align: center">20</td><td style="text-align: center"></td></tr></table><p><strong>Tradeoff Julia vs Python:</strong> In Julia, the code is compiled before it is executed, which can cause about one to 10 seconds delay when running a simulation the first time, but speeds up the execution a lot afterward. In addition, Julia can run fully multithreaded, Python cannot make use of multiple CPU cores with multithreading because of the global interpreter lock. </p><p>See also: <a href="https://ufechner7.github.io/2022/08/13/why-julia.html">Why Julia?</a> and read the <a href="https://ufechner7.github.io/Tethers.jl/dev/">documentation</a>.</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Friday 15 December 2023 22:46">Friday 15 December 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
